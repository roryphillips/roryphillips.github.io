{"version":3,"sources":["logo.svg","FancySearch/FancySearch.js","App.js","FancySearch/useKeyCombination.js","reportWebVitals.js","index.js"],"names":["FancySearch","isOpen","providers","config","onClose","useState","isLoading","setIsLoading","results","setResults","useEffect","search","useCallback","term","a","providerKeys","Object","keys","sort","b","localeCompare","Promise","all","map","pk","idx","load","then","resultSet","res","i","length","className","onClick","onSearch","SearchInput","onInputChange","useDebounceCallback","e","target","value","onChange","placeholder","SearchResults","filter","c","key","cfg","title","data","SearchCategory","d","item","SearchItem","name","wait","ms","resolve","setTimeout","App","setIsOpen","commands","onCommand","onKeyDown","cmd","some","kc","keyCode","window","addEventListener","removeEventListener","useKeyCombination","id","toLowerCase","indexOf","src","logo","alt","href","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.24dc743a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {useCallback, useEffect, useState} from \"react\";\nimport \"./FancySearch.css\";\nimport {useDebounceCallback} from \"@react-hook/debounce\";\n\nexport const FancySearch = ({\n                              isOpen,\n                              providers,\n                              config,\n                              onClose\n                            }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [results, setResults] = useState(null);\n\n  useEffect(() => {\n    setIsLoading(false);\n    setResults(null);\n  }, [isOpen]);\n\n  const search = useCallback(async (term) => {\n    setIsLoading(true);\n    const providerKeys = Object.keys(providers).sort((a, b) => a.localeCompare(b));\n    Promise.all(providerKeys.map((pk, idx) => providers[pk].load(term))).then((resultSet) => {\n      const res = {};\n\n      for (let i = 0; i < providerKeys.length; i++) {\n        res[providerKeys[i]] = resultSet[i];\n      }\n\n      setIsLoading(false);\n      setResults(res);\n    })\n  }, [providers]);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <div className=\"fancy-search-fullscreen-overlay\">\n      <button className=\"closebtn\" onClick={onClose}>&times;</button>\n      <div className=\"fancy-search-content\">\n        <SearchInput onSearch={search}/>\n        {isLoading && <div className=\"lds-dual-ring\"/>}\n        {results && (\n          <SearchResults results={results} config={config}/>\n        )}\n      </div>\n\n    </div>\n  );\n}\n\nconst SearchInput = ({\n                       onSearch\n                     }) => {\n  const onInputChange = useDebounceCallback((e) => {\n    onSearch(e.target.value);\n  }, 100, false);\n\n  return <input className=\"fancy-search-input\" onChange={onInputChange} placeholder=\"Enter search terms\"/>\n};\n\nconst SearchResults = ({\n                         results,\n                         config\n                       }) => {\n  return (\n    <div className=\"fancy-search-results-container\">\n      {config.filter((c) => results[c.key].length > 0).map((cfg) => (\n        <SearchCategory\n          title={cfg.title}\n          data={results[cfg.key]}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst SearchCategory = ({\n                          title,\n                          data\n                        }) => {\n  return (\n    <div>\n      <p>{title}</p>\n      <div>\n        {data.map((d) => <SearchItem item={d}/>)}\n      </div>\n    </div>\n  )\n};\n\nconst SearchItem = ({\n  item\n                    }) => {\n  return (\n    <div className=\"fancy-search-result-item\">\n      <p>{item.name}</p>\n    </div>\n  )\n};","import logo from './logo.svg';\nimport './App.css';\nimport {FancySearch} from \"./FancySearch\";\nimport {useKeyCombination} from \"./FancySearch/useKeyCombination\";\nimport {useState} from \"react\";\n\nfunction wait(ms = 1000) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), ms);\n  });\n}\n\nfunction App() {\n  const [isOpen, setIsOpen] = useState();\n\n  const onCommand = (key) => {\n    // eslint-disable-next-line default-case\n    switch (key) {\n      case 'open':\n        setIsOpen(true);\n        break;\n      case 'close':\n        setIsOpen(false);\n        break;\n    }\n  };\n\n  useKeyCombination({\n    'open': [83],\n    'close': [27]\n  }, onCommand)\n\n  return (\n    <div className=\"App\">\n      <FancySearch\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        providers={{\n          'template': {\n            load: async (term) => {\n              await wait(100);\n              return [\n                {\n                  id: 'template_1',\n                  name: 'Indexing duck'\n                },\n                {\n                  id: 'template_2',\n                  name: 'Frayed goose'\n                },\n                {\n                  id: 'template_3',\n                  name: 'Repeating chicken'\n                }\n              ].filter((i) => i.name.toLowerCase().indexOf(term.toLowerCase()) !== -1);\n            }\n          },\n          'inspection': {\n            load: async (term) => {\n              await wait(100);\n              return [\n                {\n                  id: 'inspection_1',\n                  name: 'inspection_1'\n                },\n                {\n                  id: 'inspection_2',\n                  name: 'inspection_2'\n                },\n                {\n                  id: 'inspection_3',\n                  name: 'inspection_3'\n                }\n              ].filter((i) => i.name.toLowerCase().indexOf(term.toLowerCase()) !== -1);;\n            }\n          },\n          'user': {\n            load: async (term) => {\n              await wait(100);\n              return [\n                {\n                  id: 'user_1',\n                  name: 'user_1'\n                },\n                {\n                  id: 'user_2',\n                  name: 'user_2'\n                },\n                {\n                  id: 'user_3',\n                  name: 'user_3'\n                }\n              ].filter((i) => i.name.toLowerCase().indexOf(term.toLowerCase()) !== -1);;\n            }\n          }\n        }}\n        config={[{\n          key: 'template',\n          title: 'Templates'\n        }, {\n          key: 'inspection',\n          title: 'Inspections'\n        }, {\n          key: 'user',\n          title: 'Users'\n        }]}\n      />\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import {useCallback, useEffect} from \"react\";\n\nexport const useKeyCombination = (commands, onCommand) => {\n  const onKeyDown = useCallback((e) => {\n    for (let cmd of Object.keys(commands)) {\n      if (commands[cmd].some((kc) => e.keyCode === kc)) {\n        onCommand(cmd);\n        return;\n      }\n    }\n  }, [commands, onCommand]);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onKeyDown)\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    }\n  }, [onKeyDown]);\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}